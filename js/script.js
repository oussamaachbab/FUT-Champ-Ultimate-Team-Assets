const playersData = {

  "players": [
    {
      "name": "Lionel Messi",
      "photo": "https://cdn.sofifa.net/players/158/023/25_120.png",
      "position": "RW",
      "nationality": "Argentina",
      "flag": "https://cdn.sofifa.net/flags/ar.png",
      "club": "Inter Miami",
      "logo": "https://cdn.sofifa.net/meta/team/239235/120.png",
      "rating": 93,
      "pace": 85,
      "shooting": 92,
      "passing": 91,
      "dribbling": 95,
      "defending": 35,
      "physical": 65
    },
    {
      "name": "Cristiano Ronaldo",
      "photo": "https://cdn.sofifa.net/players/020/801/25_120.png",
      "position": "ST",
      "nationality": "Portugal",
      "flag": "https://cdn.sofifa.net/flags/pt.png",
      "club": "Al Nassr",
      "logo": "https://cdn.sofifa.net/meta/team/2506/120.png",
      "rating": 91,
      "pace": 84,
      "shooting": 94,
      "passing": 82,
      "dribbling": 87,
      "defending": 34,
      "physical": 77
    },
    {
      "name": "Kevin De Bruyne",
      "photo": "https://cdn.sofifa.net/players/192/985/25_120.png",
      "position": "CM",
      "nationality": "Belgium",
      "flag": "https://cdn.sofifa.net/flags/be.png",
      "club": "Manchester City",
      "logo": "https://cdn.sofifa.net/players/239/085/25_120.png",
      "rating": 91,
      "pace": 74,
      "shooting": 86,
      "passing": 93,
      "dribbling": 88,
      "defending": 64,
      "physical": 78
    },
    {
      "name": "Kylian Mbappé",
      "photo": "https://cdn.sofifa.net/players/231/747/25_120.png",
      "position": "ST",
      "nationality": "France",
      "flag": "https://cdn.sofifa.net/flags/fr.png",
      "club": "Real Madrid",
      "logo": "https://cdn.sofifa.net/meta/team/3468/120.png",
      "rating": 92,
      "pace": 97,
      "shooting": 89,
      "passing": 80,
      "dribbling": 92,
      "defending": 39,
      "physical": 77
    },
    {
      "name": "Virgil van Dijk",
      "photo": "https://cdn.sofifa.net/players/203/376/25_120.png",
      "position": "CB",
      "nationality": "Netherlands",
      "flag": "https://cdn.sofifa.net/flags/nl.png",
      "club": "Liverpool",
      "logo": "https://cdn.sofifa.net/meta/team/8/120.png",
      "rating": 90,
      "pace": 75,
      "shooting": 60,
      "passing": 70,
      "dribbling": 72,
      "defending": 92,
      "physical": 86
    },
    {
      "name": "Antonio Rudiger",
      "photo": "https://cdn.sofifa.net/players/205/452/25_120.png",
      "position": "CB",
      "nationality": "Germany",
      "flag": "https://cdn.sofifa.net/flags/de.png",
      "club": "Real Madrid",
      "logo": "https://cdn.sofifa.net/meta/team/3468/120.png",
      "rating": 88,
      "pace": 82,
      "shooting": 55,
      "passing": 73,
      "dribbling": 70,
      "defending": 86,
      "physical": 86
    },
    {
      "name": "Neymar Jr",
      "photo": "https://cdn.sofifa.net/players/190/871/25_120.png",
      "position": "LW",
      "nationality": "Brazil",
      "flag": "https://cdn.sofifa.net/flags/br.png",
      "club": "Al-Hilal",
      "logo": "https://cdn.sofifa.net/meta/team/7011/120.png",
      "rating": 90,
      "pace": 91,
      "shooting": 83,
      "passing": 86,
      "dribbling": 94,
      "defending": 37,
      "physical": 61
    },
    {
      "name": "Mohamed Salah",
      "photo": "https://cdn.sofifa.net/players/192/985/25_120.png",
      "position": "RW",
      "nationality": "Egypt",
      "flag": "https://cdn.sofifa.net/flags/eg.png",
      "club": "Liverpool",
      "logo": "https://cdn.sofifa.net/meta/team/8/120.png",
      "rating": 89,
      "pace": 93,
      "shooting": 87,
      "passing": 81,
      "dribbling": 90,
      "defending": 45,
      "physical": 75
    },
    {
      "name": "Joshua Kimmich",
      "photo": "https://cdn.sofifa.net/players/212/622/25_120.png",
      "position": "CM",
      "nationality": "Germany",
      "flag": "https://cdn.sofifa.net/flags/de.png",
      "club": "Bayern Munich",
      "logo": "https://cdn.sofifa.net/meta/team/503/120.png",
      "rating": 89,
      "pace": 70,
      "shooting": 75,
      "passing": 88,
      "dribbling": 84,
      "defending": 84,
      "physical": 81
    },
    {
      "name": "Jan Oblak",
      "photo": "https://cdn.sofifa.net/players/200/389/25_120.png",
      "position": "GK",
      "nationality": "Slovenia",
      "flag": "https://cdn.sofifa.net/flags/si.png",
      "club": "Atletico Madrid",
      "logo": "https://cdn.sofifa.net/meta/team/7980/120.png",
      "rating": 91,
      "diving": 89,
      "handling": 90,
      "kicking": 78,
      "reflexes": 92,
      "speed": 50,
      "positioning": 88
    },
    {
      "name": "Luka Modrić",
      "photo": "https://cdn.sofifa.net/players/177/003/25_120.png",
      "position": "CM",
      "nationality": "Croatia",
      "flag": "https://cdn.sofifa.net/flags/hr.png",
      "club": "Real Madrid",
      "logo": "https://cdn.sofifa.net/meta/team/3468/120.png",
      "rating": 88,
      "pace": 74,
      "shooting": 78,
      "passing": 89,
      "dribbling": 90,
      "defending": 72,
      "physical": 65
    },
    {
      "name": "Vinicius Junior",
      "photo": "https://cdn.sofifa.net/players/238/794/25_120.png",
      "position": "LW",
      "nationality": "Brazil",
      "flag": "https://cdn.sofifa.net/flags/br.png",
      "club": "Real Madrid",
      "logo": "https://cdn.sofifa.net/meta/team/3468/120.png",
      "rating": 89,
      "pace": 91,
      "shooting": 88,
      "passing": 85,
      "dribbling": 94,
      "defending": 39,
      "physical": 61
    },
    {
      "name": "Brahim Diáz",
      "photo": "https://cdn.sofifa.net/players/231/410/25_120.png",
      "position": "LW",
      "nationality": "Morocco",
      "flag": "https://cdn.sofifa.net/flags/ma.png",
      "club": "Real Madrid",
      "logo": "https://cdn.sofifa.net/meta/team/3468/120.png",
      "rating": 82,
      "pace": 85,
      "shooting": 74,
      "passing": 78,
      "dribbling": 85,
      "defending": 31,
      "physical": 56
    },
    {
      "name": "Karim Benzema",
      "photo": "https://cdn.sofifa.net/players/165/153/25_120.png",
      "position": "ST",
      "nationality": "France",
      "flag": "https://cdn.sofifa.net/flags/fr.png",
      "club": "Al-Ittihad",
      "logo" :"https://cdn.sofifa.net/meta/team/476/120.png",
      "rating": 90,
      "pace": 77,
      "shooting": 90,
      "passing": 83,
      "dribbling": 88,
      "defending": 40,
      "physical": 78
    },
    {
      "name": "Erling Haaland",
      "photo": "https://cdn.sofifa.net/players/239/085/25_120.png",
      "position": "ST",
      "nationality": "Norway",
      "flag": "https://cdn.sofifa.net/flags/no.png",
      "club": "Manchester City",
      "logo": "https://cdn.sofifa.net/players/239/085/25_120.png",
      "rating": 91,
      "pace": 89,
      "shooting": 94,
      "passing": 65,
      "dribbling": 80,
      "defending": 45,
      "physical": 88
    },
    {
      "name": "N'Golo Kanté",
      "photo": "https://cdn.sofifa.net/players/215/914/25_120.png",
      "position": "CDM",
      "nationality": "France",
      "flag": "https://cdn.sofifa.net/flags/fr.png",
      "club": "Al-Ittihad",
      "logo": "https://cdn.sofifa.net/meta/team/476/120.png",
      "rating": 87,
      "pace": 77,
      "shooting": 66,
      "passing": 75,
      "dribbling": 82,
      "defending": 88,
      "physical": 82
    },
    {
      "name": "Alphonso Davies",
      "photo": "https://cdn.sofifa.net/players/234/396/25_120.png",
      "position": "LB",
      "nationality": "Canada",
      "flag": "https://cdn.sofifa.net/flags/ca.png",
      "club": "Bayern Munich",
      "logo": "https://cdn.sofifa.net/meta/team/503/120.png",
      "rating": 84,
      "pace": 96,
      "shooting": 68,
      "passing": 77,
      "dribbling": 82,
      "defending": 76,
      "physical": 77
    },
    {
      "name": "Yassine Bounou",
      "photo": "https://cdn.sofifa.net/players/209/981/25_120.png",
      "position": "GK",
      "nationality": "Morocco",
      "flag": "https://cdn.sofifa.net/flags/ma.png",
      "club": "Al-Hilal",
      "logo": "https://cdn.sofifa.net/meta/team/7011/120.png",
      "rating": 84,
      "diving": 81,
      "handling": 82,
      "kicking": 77,
      "reflexes": 86,
      "speed": 38,
      "positioning": 83
    },
    {
      "name": "Bruno Fernandes",
      "photo": "https://cdn.sofifa.net/players/212/198/25_120.png",
      "position": "CM",
      "nationality": "Portugal",
      "flag": "https://cdn.sofifa.net/flags/pt.png",
      "club": "Manchester United",
      "logo": "https://cdn.sofifa.net/meta/team/14/120.png",
      "rating": 88,
      "pace": 75,
      "shooting": 85,
      "passing": 89,
      "dribbling": 84,
      "defending": 69,
      "physical": 77
    },
    {
      "name": "Jadon Sancho",
      "photo": "https://cdn.sofifa.net/players/233/049/25_120.png",
      "position": "LW",
      "nationality": "England",
      "flag": "https://cdn.sofifa.net/flags/gb-eng.png",
      "club": "Manchester United",
      "logo": "https://cdn.sofifa.net/meta/team/14/120.png",
      "rating": 84,
      "pace": 85,
      "shooting": 74,
      "passing": 78,
      "dribbling": 88,
      "defending": 34,
      "physical": 63
    },
    {
      "name": "Trent Alexander-Arnold",
      "photo": "https://cdn.sofifa.net/players/231/281/25_120.png",
      "position": "RB",
      "nationality": "England",
      "flag": "https://cdn.sofifa.net/flags/gb-eng.png",
      "club": "Liverpool",
      "rating": 87,
      "pace": 76,
      "shooting": 66,
      "passing": 89,
      "dribbling": 80,
      "defending": 79,
      "physical": 71
    },
    {
      "name": "Achraf Hakimi",
      "photo": "https://cdn.sofifa.net/players/235/212/25_120.png",
      "position": "RB",
      "nationality": "Morocco",
      "flag": "https://cdn.sofifa.net/flags/ma.png",
      "club": "Paris Saint-Germain",
      "logo": "https://cdn.sofifa.net/meta/team/591/120.png",
      "rating": 84,
      "pace": 91,
      "shooting": 76,
      "passing": 80,
      "dribbling": 80,
      "defending": 75,
      "physical": 78
    },
    {
      "name": "jouj gouchiyat",
      "photo": "https://cdn.sofifa.net/players/235/410/25_120.png",
      "position": "ST",
      "nationality": "Morocco",
      "flag": "https://cdn.sofifa.net/flags/ma.png",
      "club": "Fenerbahçe",
      "logo": "https://cdn.sofifa.net/meta/team/88/120.png",
      "rating": 83,
      "pace": 82,
      "shooting": 82,
      "passing": 63,
      "dribbling": 77,
      "defending": 36,
      "physical": 80
    },
    {
      "name": "Noussair Mazraoui",
      "photo": "https://cdn.sofifa.net/players/236/401/25_120.png",
      "position": "LB",
      "nationality": "Morocco",
      "flag": "https://cdn.sofifa.net/flags/ma.png",
      "club": "Manchester United",
      "logo": "https://cdn.sofifa.net/meta/team/14/120.png",
      "rating": 81,
      "pace": 78,
      "shooting": 66,
      "passing": 77,
      "dribbling": 83,
      "defending": 77,
      "physical": 71
    },
    {
      "name": "Ismael Saibari",
      "photo": "https://cdn.sofifa.net/players/259/480/25_120.png",
      "position": "CM",
      "nationality": "Morocco",
      "flag": "https://cdn.sofifa.net/flags/ma.png",
      "club": "PSV",
      "logo": "https://cdn.sofifa.net/meta/team/682/120.png",
      "rating": 83,
      "pace": 89,
      "shooting": 78,
      "passing": 80,
      "dribbling": 86,
      "defending": 55,
      "physical": 84
    },
    {
      "name": "Gianluigi Donnarumma",
      "photo": "https://cdn.sofifa.net/players/230/621/25_120.png",
      "position": "GK",
      "nationality": "Italy",
      "flag": "https://cdn.sofifa.net/flags/it.png",
      "club": "Paris Saint-Germain",
      "logo": "https://cdn.sofifa.net/meta/team/591/120.png",
      "rating": 89,
      "diving": 88,
      "handling": 84,
      "kicking": 75,
      "reflexes": 90,
      "speed": 50,
      "positioning": 85
    }
  ]
};





const playersContainer = document.querySelector(".avilable-palyers");
const addaPlayer = document.getElementById("add-a-player-btn");
const addagoalkeeper = document.getElementById("add-a-goalkeeper-btn");
const submitAddaPlayer = document.getElementById("submit-add-a-player");
const submitaddagoalkeeper = document.getElementById("submit-add-a-goalkeeper");
const deleteaPlayerbtn = document.getElementById("delete-a-player-btn");

addaPlayer.addEventListener('click', () => {
let addbtn = document.getElementById('add-a-player');

if(addbtn.style.display == 'none'){ 
addbtn.style.display = 'block';
}else{
addbtn.style.display = 'none';
}
});


addagoalkeeper.addEventListener('click', () => {
let addgoalbtn = document.getElementById('add-a-goalkeeper');

if(addgoalbtn.style.display == 'none'){ 
addgoalbtn.style.display = 'block';
}else{
addgoalbtn.style.display = 'none';
}
});

deleteaPlayerbtn.addEventListener('click', () => {
let deleteaPlayer = document.getElementById('delete-a-player');

if (deleteaPlayer.style.display === 'none') {
    deleteaPlayer.style.display = 'block';
} else {
    deleteaPlayer.style.display = 'none';
}
});






const searchInput = document.getElementById("search-a-player");

searchInput.addEventListener("input", () => {
    const query = searchInput.value.trim().toLowerCase();

    const filteredPlayers = playersData.players.filter(player =>
        player.name.toLowerCase().includes(query)
    );

    playersSplit(filteredPlayers);
});






submitaddagoalkeeper.addEventListener("click", ()=>{
const playerName = document.getElementById('goalkeeper-name').value;
const playerClub = document.getElementById('goalkeeper-club').value;
const playerRating = document.getElementById('goalkeeper-rating').value;
const playerdiving = document.getElementById('goalkeeper-diving').value;
const playerhandling = document.getElementById('goalkeeper-handling').value;
const playerkicking = document.getElementById('goalkeeper-kicking').value;
const playerreflexes = document.getElementById('goalkeeper-reflexes').value;
const playerspeed = document.getElementById('goalkeeper-speed').value;
const playerpositioning = document.getElementById('goalkeeper-positioning').value;
const playerPhoto = document.getElementById('goalkeeper-photo').value;
const playerNationality = document.getElementById('goalkeeper-nationality').value;
const playerFlag = document.getElementById('goalkeeper-flag').value;
const playerClubLogo = document.getElementById('goalkeeper-club-logo').value;

const players = {
  "name": playerName,
  "position": "GK",
  "club": playerClub,
  "rating": playerRating,
  "diving": playerdiving,
  "handling": playerhandling,
  "kicking": playerkicking,
  "reflexes": playerreflexes,
  "speed": playerspeed,
  "positioning": playerpositioning,
  "photo": playerPhoto,
  "nationality": playerNationality,
  "flag": playerFlag,
  "logo": playerClubLogo
};

playersData.players.push(players);
playersSplit(playersData.players);
// document.getElementById('add-a-goalkeeper').style.display = 'none';
})




submitAddaPlayer.addEventListener('click', () => {
const playerName = document.getElementById('player-name').value;
const playerPosition = document.getElementById('player-position').value;
const playerClub = document.getElementById('player-club').value;
const playerRating = document.getElementById('player-rating').value;
const playerPace = document.getElementById('player-pace').value;
const playerShooting = document.getElementById('player-shooting').value;
const playerPassing = document.getElementById('player-passing').value;
const playerDribbling = document.getElementById('player-dribbling').value;
const playerDefending = document.getElementById('player-defending').value;
const playerPhysical = document.getElementById('player-physical').value;
const playerPhoto = document.getElementById('player-photo').value;
const playerNationality = document.getElementById('player-nationality').value;
const playerFlag = document.getElementById('player-flag').value;
const playerClubLogo = document.getElementById('player-club-logo').value;

const players = {
  "name": playerName,
  "position": playerPosition,
  "club": playerClub,
  "rating": playerRating,
  "pace": playerPace,
  "shooting": playerShooting,
  "passing": playerPassing,
  "dribbling": playerDribbling,
  "defending": playerDefending,
  "physical": playerPhysical,
  "photo": playerPhoto,
  "nationality": playerNationality,
  "flag": playerFlag,
  "logo": playerClubLogo
};

playersData.players.push(players);
playersSplit(playersData.players);
// document.getElementById('add-a-player').style.display = 'none';
});



const deletePlayerInput = document.getElementById('player-delete-name');
const deletePlayerSubmit = document.createElement('button');
deletePlayerSubmit.textContent = "Confirm Delete";
deletePlayerSubmit.className = "confirm-delete-btn";

deletePlayerSubmit.addEventListener('click', () => {
  const playerName = deletePlayerInput.value.trim();
  
  const playerIndex = playersData.players.findIndex(player => player.name.toLowerCase() === playerName.toLowerCase());

  if (playerIndex !== -1) {
      // Remove player from the array
      playersData.players.splice(playerIndex, 1);

      playersSplit(playersData.players);
      alert(`${playerName} has been deleted successfully!`);

      deletePlayerInput.value = "";
  } else {
    let ifplayerwasnotfound = document.createElement('h4');
    ifplayerwasnotfound.textContent = "Please enter a player name to delete";
    ifplayerwasnotfound.style.color = "red";
    ifplayerwasnotfound.id = "player-not-found";

    const deleteSection = document.getElementById('delete-a-player');

    const existingMessage = document.getElementById('player-not-found');
    if (!existingMessage) {
        deleteSection.appendChild(ifplayerwasnotfound);
    }
  }
});


const deleteSection = document.getElementById('delete-a-player');
deleteSection.appendChild(deletePlayerSubmit);


function playersSplit(players) {
playersContainer.innerHTML = ""; 
players.forEach((player) => {
  if(player.position == "GK"){
    const playerCard = `
              <div class="test">
                <div class="total-rating">
                  <h6><span>${player.rating}</span><br><span>${player.position}</span></h6>
                </div>
                <div class="player-img" style="background-image: url('${player.photo}')"></div>
                <div class="player-name">${player.name}</div>
                <div class="palyer-ratings">
                  <div class="ratings-names">
                    <span>DIV </span> <span>HAN </span> <span>KIC </span>
                    <span>REF </span> <span>SPD </span> <span>POS </span>
                  </div>
                  <br>
                  <span>${player.diving} </span>
                  <span>${player.handling} </span>
                  <span>${player.kicking} </span>
                  <span>${player.reflexes} </span>
                  <span>${player.speed} </span>
                  <span>${player.positioning} </span>
                </div>
                <div class="flags">
                  <div class="flag" style="background-image: url('${player.flag}')"></div>
                  <div class="club" style="background-image: url('${player.logo}')"></div>
                </div>
              </div>`;
            playersContainer.innerHTML += playerCard;
  }else{ 
    const playerCard = `
      <div class="test">
        <div class="total-rating">
          <h6><span>${player.rating}</span><br><span>${player.position}</span></h6>
        </div>
        <div class="player-img" style="background-image: url('${player.photo}')"></div>
        <div class="player-name">${player.name}</div>
        <div class="palyer-ratings">
          <div class="ratings-names">
            <span>PAC</span> <span>SHO</span> <span>PAS</span>
            <span>DRI</span> <span>DEF</span> <span>PHY</span>
          </div>
          <br>
          <span>${player.pace}</span>
          <span>${player.shooting}</span>
          <span>${player.passing}</span>
          <span>${player.dribbling}</span>
          <span>${player.defending}</span>
          <span>${player.physical}</span>
        </div>
        <div class="flags">
          <div class="flag" style="background-image: url('${player.flag}')"></div>
          <div class="club" style="background-image: url('${player.logo}')"></div>
        </div>
      </div>`;
    playersContainer.innerHTML += playerCard;
  }


});

}









document.querySelector('.avilable-palyers').addEventListener('click', (event) => {
  const playerCard = event.target.closest('.test');
  if (!playerCard) return;

  const playerName = playerCard.querySelector('.player-name').textContent;

  const player = playersData.players.find(p => p.name === playerName);
  if (!player) return;

  const editPopup = document.getElementById('edit-palyer');
  editPopup.style.display = 'block';

  document.querySelector('input[name="player-name-edit"]').value = player.name;
  document.querySelector('input[name="player-photo-edit"]').value = player.photo;
  document.querySelector('input[name="player-total-rating-edit"]').value = player.rating;
  document.querySelector('input[name="player-club-logo-edit"]').value = player.logo;

  const submitButton = document.getElementById('submit-edit-player');
  submitButton.onclick = () => {
      player.name = document.querySelector('input[name="player-name-edit"]').value;
      player.photo = document.querySelector('input[name="player-photo-edit"]').value;
      player.rating = document.querySelector('input[name="player-total-rating-edit"]').value;
      player.logo = document.querySelector('input[name="player-club-logo-edit"]').value;

      editPopup.style.display = 'none';

      playersSplit(playersData.players);
  };
});

document.getElementById('edit-palyer').addEventListener('click', (event) => {
  if (event.target.id === 'edit-palyer') {
      document.getElementById('edit-palyer').style.display = 'none';
  }
});











const pitchContainer = document.querySelector(".pitch-container");

const playerPositions433 = [
{position: "ST", top: "10%", left: "48%" },
{position: "LW", top: "20%", left: "20%" },
{position: "RW", top: "20%", left: "75%" },
{position: "CM", top: "40%", left: "15%" },
{position: "CDM", top: "45%", left: "47%" },
{position: "CM", top: "40%", left: "80%" },
{position: "CB", top: "70%", left: "30%" },
{position: "CB", top: "70%", left: "65%" },
{position: "LB", top: "63%", left: "10%" }, 
{position: "GK", top: "80%", left: "47%" },
{position: "RB", top: "63%", left: "85%" } 
];
const playerPositions442 = [
{position: "ST", top: "10%", left: "55%" },
{position: "LW", top: "10%", left: "41%" },
{position: "CM", top: "30%", left: "80%" },
{position: "CM", top: "30%", left: "15%" },
{position: "CM", top: "40%", left: "35%" },
{position: "CDM", top: "40%", left: "60%" },
{position: "CB", top: "70%", left: "30%" },
{position: "CB", top: "70%", left: "65%" },
{position: "LB", top: "63%", left: "10%" }, 
{position: "GK", top: "80%", left: "47%" },
{position: "RB", top: "63%", left: "85%" } 
];

let tactil = document.getElementById('tactil');
let choosenTactil = tactil.value


tactil.addEventListener('change', ()=>{
choosenTactil = tactil.value
tactilo();
})


function tactilo() { 
pitchContainer.innerHTML = ''; 

let playerPositions; 

if (choosenTactil === "433") {
  playerPositions = playerPositions433;
} else if (choosenTactil === "442") {
  playerPositions = playerPositions442;
} else {
  return;
}

playerPositions.forEach((position) => {
  const slot = document.createElement("div");
  slot.classList.add("pitch-slot");
  slot.textContent = "+"; 
  slot.style.position = "absolute";
  slot.style.top = position.top;
  slot.style.left = position.left;
  
  slot.dataset.position = position.position;

  slot.addEventListener('click', () => {
    const isOccupied = slot.querySelector('.test-pitch');
  
    if (isOccupied) {
      const removedPlayer = isOccupied.dataset.player;
      // playersData.players.push(removedPlayer); 
      slot.innerHTML = "+";
      slot.style.border = "3px solid white";
      slot.style.width = "4%";
      slot.style.height = "4%";
      playersSplit(playersData.players); 
    return;
    }


    const existingList = document.querySelector('.player-list');
    if (existingList) {
        existingList.remove();
    }

    const list = document.createElement("div");
    list.classList.add("player-list");

    const positionToShow = slot.dataset.position;
    const filteredPlayers = playersData.players.filter(player => player.position === positionToShow);

    filteredPlayers.forEach((player) => {
        const playerCard = document.createElement("div");
        playerCard.classList.add("test");
        playerCard.style.cursor = "pointer";

        playerCard.innerHTML = `
            <div class="total-ratingg">
                <h6><span>${player.rating}</span><br><span>${player.position}</span></h6>
            </div>
            <div class="player-image" style="background-image: url('${player.photo}')"></div>
            <div class="player-namee">${player.name}</div>
            <div class="palyer-ratingss">
                <div class="ratings-namess">
                    <span>PAC</span> <span>SHO</span> <span>PAS</span>
                    <span>DRI</span> <span>DEF</span> <span>PHY</span>
                </div>
                <br>
                <span>${player.pace || ''}</span>
                <span>${player.shooting}</span>
                <span>${player.passing}</span>
                <span>${player.dribbling}</span>
                <span>${player.defending}</span>
                <span>${player.physical || ''}</span>
            </div>
            <div class="flags">
                <div class="flag" style="background-image: url('${player.flag}')"></div>
                <div class="club" style="background-image: url('${player.logo}')"></div>
            </div>
        `;

        playerCard.addEventListener('click', () => {


          // const currentLeft = parseFloat(slot.style.left);
          // slot.style.left = `${currentLeft - 4.5}%`;
          // slot.style.transition = 'left 0.5s ease-in-out';
          // slot.style.position = "fix";

          
    
            slot.textContent = "";
            slot.style.border = "none";
            slot.style.width = "150px";
            slot.style.height = "150px";

            slot.innerHTML = `
                <div class="test-pitch">
                    <div class="total-rating-pitch">
                        <h6><span>${player.rating}</span><br><span>${player.position}</span></h6>
                    </div>
                    <div class="player-img-pitch" style="background-image: url('${player.photo}')"></div>
                    <div class="player-name">${player.name}</div>
                    <div class="palyer-ratings">
                        <div class="ratings-names">
                            <span>PAC</span> <span>SHO</span> <span>PAS</span>
                            <span>DRI</span> <span>DEF</span> <span>PHY</span>
                        </div>
                        <br>
                        <span>${player.pace}</span>
                        <span>${player.shooting}</span>
                        <span>${player.passing}</span>
                        <span>${player.dribbling}</span>
                        <span>${player.defending}</span>
                        <span>${player.physical}</span>
                    </div>
                    <div class="flags">
                        <div class="flag" style="background-image: url('${player.flag}')"></div>
                        <div class="club" style="background-image: url('${player.logo}')"></div>
                    </div>
                </div>`;

            const playerCards = document.querySelectorAll('.avilable-palyers .test');
            playerCards.forEach((card) => {
                const playerNameElement = card.querySelector('.player-name');
                if (playerNameElement && playerNameElement.textContent === player.name) {
                    card.remove();
                }
            });

          
            list.remove();
        });

        

        list.appendChild(playerCard);
    });

    pitchContainer.appendChild(list);

  
    const closeList = (e) => {
        if (!list.contains(e.target) && e.target !== slot) {
            list.remove();
            document.removeEventListener('click', closeList);
        }
    };

    document.addEventListener('click', closeList);
});



  pitchContainer.appendChild(slot);
});




}








let forwards = document.getElementById("forwards");
let midfielders = document.getElementById("midfielders");
let defenders = document.getElementById("defenders");
let goalkeepers = document.getElementById("goalkeepers");






playersSplit(playersData.players);
displayForwards();

// goalKeppers(playersData.players);
